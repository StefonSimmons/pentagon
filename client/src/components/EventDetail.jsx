import React, { Component } from 'react'
import { Link } from 'react-router-dom'
import styled from 'styled-components'

const Header = styled.header`
  height: 91px;
  background: #000000;
  display: flex;
  align-items: center;
  font-family: Lato;
  font-size: 14px;
  letter-spacing: 1.5px;
  color: #FFFFFF;
`
const Main = styled.main`
  display: flex;
  flex-direction: column;
  justify-content: center;
  align-items: center;
  height: 100vh;
`
const Image = styled.div`
  height: 35vh;
  width: 375px;
  background-size: contain;
  // background-repeat: no-repeat; 
  display: flex;
  justify-content: flex-end;
  align-items: flex-end;
`;
const EventWrapper = styled.div`
  height: 100vh;
  width: 100%;
  background-color: #ffffff;
  text-align: center;
`;
const Span = styled.span`
  font-family: Lato;
  font-size: 15px;
  letter-spacing: 2px;
  color: #FFFFFF;
  margin-right: 5px
`
const Price = styled.h1`
  font-family: Lato;
  font-size: 28px;
  letter-spacing: 2px;
  color: #FFFFFF;
  margin-right: 15px
`
const EventName = styled.h1`
  font-family: Lato;
  font-weight: bold;
  font-size: 25px;
  letter-spacing: 2px;
  color: #000000;
  margin-top: 20px;
`
const Detail = styled.p`
  font-family: Lato;
  font-size: 14px;
  line-height: 35px;
  letter-spacing: 2px;
  color: #000000;
  text-align: left;
  margin-top: 20px;
`
const Capacity = styled.p`
  font-family: Lato;
  font-size: 14px;
  line-height: 35px;
  letter-spacing: 2px;
  color: #000000;
  text-align: left

`
const Button = styled.button`
  height: 61px;
  width: 247px;
  border-radius: 50px;
  background-color: #FF0000;
  border: 1px solid #FF0000;
  color: #ffffff;
  font-size: 18px;
  font-weight: 700;
  line-height: 22px;
  margin-top: 20px;
  cursor: pointer
`
const Foot = styled.footer`
  height: 74px;
  width: 100vw;
  position: fixed;
  bottom: 0;
  background: #000000
`
const Bottom = styled.div`
  display: flex;
  justify-content: space-around;
  align-items: center;
  height: 100%
`


export default class EventDetail extends Component {
  // constructor(props) {
  //   super(props);

  //   this.state = {

  //   };
  // }

  render() {
    const { id } = this.props.match.params;
    const { events, currentUser, createTicket } = this.props
    console.log('--->>', id)

    const event = events.filter(e => e.id === parseInt(id))[0]
    console.log('--->>', event)
    const ticketData = {
      code: '' ,
      time_slot: '2000 - 01 - 01T09: 30: 00.000Z',
      event_id: event.id,
      user_id: currentUser.id
    }

    console.log('++++=>',ticketData)
    return (
      <div>
        {event ?
          <>
            <Header>
              <svg onClick={() => { this.props.history.goBack() }} width="40" height="40" viewBox="0 0 40 40" fill="none" xmlns="http://www.w3.org/2000/svg">
                <path d="M23.0499 31.6667C22.801 31.6676 22.5549 31.6126 22.33 31.5059C22.105 31.3992 21.9068 31.2434 21.7499 31.0501L13.6999 21.0501C13.4548 20.7518 13.3208 20.3778 13.3208 19.9917C13.3208 19.6057 13.4548 19.2316 13.6999 18.9334L22.0333 8.93339C22.3162 8.59302 22.7227 8.37898 23.1634 8.33835C23.6041 8.29772 24.0429 8.43382 24.3833 8.71672C24.7236 8.99962 24.9377 9.40614 24.9783 9.84685C25.0189 10.2876 24.8828 10.7264 24.5999 11.0667L17.1499 20.0001L24.3499 28.9334C24.5538 29.178 24.6832 29.4759 24.723 29.7918C24.7628 30.1078 24.7113 30.4285 24.5745 30.716C24.4378 31.0036 24.2215 31.2459 23.9513 31.4144C23.6811 31.5829 23.3683 31.6704 23.0499 31.6667Z" fill="white" />
              </svg>
          New York Yankees VS Toronto Blue Jays Sat,July 22, 2020 5:30 PM
            </Header>

            <Main>
              <Image style={{ backgroundImage: `url(${event.img_url})` }}>
                <Price><Span>From</Span>{event.ticket_cost}</Price>
              </Image>
              <EventWrapper>
                <EventName>{event.event_name}</EventName>
                <div style={{ width: "80%", margin: "0 auto" }}>
                  <Detail>
                    <svg width="11" height="11" viewBox="0 0 11 11" fill="none" xmlns="http://www.w3.org/2000/svg">
                      <path d="M5.5 11C2.45882 11 0 8.54118 0 5.5C0 2.45882 2.45882 0 5.5 0C8.54118 0 11 2.45882 11 5.5C11 8.54118 8.54118 11 5.5 11ZM5.5 0.647059C2.81471 0.647059 0.647059 2.81471 0.647059 5.5C0.647059 8.18529 2.81471 10.3529 5.5 10.3529C8.18529 10.3529 10.3529 8.18529 10.3529 5.5C10.3529 2.81471 8.18529 0.647059 5.5 0.647059Z" fill="#000000" />
                      <path d="M7.45455 9L5 6.86441V3H5.77922V6.59322L8 8.52542L7.45455 9Z" fill="#000000" />
                    </svg>
                    {`${event.location}`}
                  </Detail>
                  <Capacity>
                    <svg width="14" height="14" viewBox="0 0 14 14" fill="none" xmlns="http://www.w3.org/2000/svg">
                      <g clipPath="url(#clip0)">
                        <path d="M0.127237 9.05971L1.29624 10.2285C1.37828 10.3105 1.48954 10.3566 1.60555 10.3566C1.72156 10.3566 1.83282 10.3105 1.91486 10.2285C2.03643 10.1062 2.18104 10.0093 2.34033 9.94336C2.49961 9.87738 2.6704 9.84366 2.8428 9.84414C3.56664 9.84414 4.1553 10.4328 4.1553 11.1566C4.15572 11.3291 4.12195 11.4999 4.05594 11.6592C3.98994 11.8185 3.893 11.9632 3.77074 12.0848C3.68872 12.1668 3.64264 12.2781 3.64264 12.3941C3.64264 12.5101 3.68872 12.6214 3.77074 12.7034L4.93974 13.8722C5.02527 13.9577 5.13705 14.0004 5.24905 14.0004C5.36105 14.0004 5.47305 13.9577 5.55836 13.8722L13.8709 5.55971C13.9116 5.51914 13.9439 5.47094 13.9659 5.41786C13.988 5.36478 13.9993 5.30787 13.9993 5.25039C13.9993 5.19292 13.988 5.13601 13.9659 5.08293C13.9439 5.02985 13.9116 4.98165 13.8709 4.94108L12.7019 3.7723C12.6198 3.69028 12.5086 3.64421 12.3925 3.64421C12.2765 3.64421 12.1653 3.69028 12.0832 3.7723C11.9617 3.89455 11.8171 3.99146 11.6578 4.05743C11.4985 4.12341 11.3277 4.15713 11.1553 4.15664C10.4315 4.15664 9.8428 3.56799 9.8428 2.84414C9.8428 2.49349 9.97952 2.16405 10.2274 1.91599C10.3094 1.83395 10.3555 1.72269 10.3555 1.60668C10.3555 1.49067 10.3094 1.37941 10.2274 1.29736L9.05836 0.128582C8.97632 0.0465638 8.86506 0.000488281 8.74905 0.000488281C8.63304 0.000488281 8.52178 0.0465638 8.43974 0.128582L0.127237 8.44108C0.0865208 8.48165 0.0542143 8.52985 0.0321705 8.58293C0.0101267 8.63601 -0.0012207 8.69292 -0.0012207 8.75039C-0.0012207 8.80787 0.0101267 8.86478 0.0321705 8.91786C0.0542143 8.97094 0.0865208 9.01914 0.127237 9.05971ZM5.68655 4.11902L6.03349 4.46596C6.1188 4.55149 6.2308 4.59414 6.3428 4.59414C6.4548 4.59414 6.5668 4.55149 6.65211 4.46596C6.73413 4.38391 6.78021 4.27265 6.78021 4.15664C6.78021 4.04064 6.73413 3.92938 6.65211 3.84733L6.30517 3.50039L8.74905 1.05652L9.33005 1.6373C9.09277 1.99498 8.96672 2.41492 8.9678 2.84414C8.9678 4.05033 9.94911 5.03164 11.1553 5.03164C11.5844 5.03284 12.0043 4.90686 12.3619 4.66961L12.9427 5.25039L10.499 7.69427L10.1521 7.34733C10.1118 7.30555 10.0635 7.27222 10.0101 7.24929C9.95672 7.22636 9.89931 7.21429 9.84122 7.21379C9.78313 7.21328 9.72552 7.22435 9.67176 7.24635C9.61799 7.26835 9.56914 7.30083 9.52806 7.34191C9.48699 7.38299 9.4545 7.43184 9.4325 7.4856C9.4105 7.53937 9.39943 7.59698 9.39994 7.65507C9.40044 7.71316 9.41251 7.77057 9.43544 7.82395C9.45837 7.87732 9.4917 7.9256 9.53349 7.96596L9.88042 8.31289L5.24905 12.9443L4.66805 12.3635C4.90533 12.0058 5.03138 11.5859 5.0303 11.1566C5.0303 9.95046 4.04899 8.96914 2.8428 8.96914C2.41366 8.96795 1.99378 9.09393 1.63617 9.33118L1.05539 8.75039L5.68655 4.11902Z" fill="#000000" />
                        <path d="M7.34694 5.77807C7.43226 5.8636 7.54426 5.90625 7.65626 5.90625C7.76826 5.90625 7.88026 5.8636 7.96557 5.77807C8.04759 5.69602 8.09366 5.58476 8.09366 5.46875C8.09366 5.35275 8.04759 5.24149 7.96557 5.15944L7.52807 4.72194C7.48771 4.68016 7.43943 4.64683 7.38606 4.6239C7.33268 4.60097 7.27527 4.5889 7.21718 4.5884C7.15909 4.58789 7.10148 4.59896 7.04771 4.62096C6.99395 4.64296 6.9451 4.67544 6.90402 4.71652C6.86294 4.7576 6.83046 4.80645 6.80846 4.86021C6.78646 4.91398 6.77539 4.97159 6.7759 5.02968C6.7764 5.08777 6.78847 5.14518 6.8114 5.19856C6.83433 5.25193 6.86766 5.30021 6.90944 5.34057L7.34694 5.77807Z" fill="#000000" />
                        <path d="M8.22194 6.65307L8.65944 7.09057C8.74476 7.1761 8.85676 7.21876 8.96876 7.21876C9.08076 7.21876 9.19276 7.1761 9.27807 7.09057C9.36009 7.00852 9.40616 6.89726 9.40616 6.78126C9.40616 6.66525 9.36009 6.55399 9.27807 6.47194L8.84057 6.03444C8.80021 5.99266 8.75193 5.95933 8.69856 5.9364C8.64518 5.91347 8.58777 5.9014 8.52968 5.9009C8.47159 5.90039 8.41398 5.91146 8.36021 5.93346C8.30645 5.95546 8.2576 5.98794 8.21652 6.02902C8.17544 6.0701 8.14296 6.11895 8.12096 6.17271C8.09896 6.22648 8.08789 6.28409 8.0884 6.34218C8.0889 6.40027 8.10097 6.45768 8.1239 6.51106C8.14683 6.56443 8.18016 6.61271 8.22194 6.65307Z" fill="#000000" />
                      </g>
                      <defs>
                        <clipPath id="clip0">
                          <rect width="14" height="14" fill="white" />
                        </clipPath>
                      </defs>
                    </svg>
                    {`${event.capacity} tickets left`}
                  </Capacity>
                </div>
                <Button onClick={() => {
                  createTicket(ticketData);
                  this.props.history.push('/mytickets')
                }}>
                  Buy Now
                </Button>
              </EventWrapper>

            </Main>

            <Foot>
              <Bottom>
                <Link to="/events">
                  <svg width="30" height="31" viewBox="0 0 30 31" fill="none" xmlns="http://www.w3.org/2000/svg">
                    <path d="M1.49971 17.4515H2.99974V27.9385C2.99974 29.5909 4.34527 30.9348 5.99981 30.9348H24.0002C25.6547 30.9348 27.0003 29.5909 27.0003 27.9385V17.4515H28.5003C28.7969 17.4514 29.0869 17.3635 29.3335 17.1989C29.5801 17.0343 29.7723 16.8004 29.8858 16.5266C29.9993 16.2529 30.029 15.9518 29.9712 15.6612C29.9133 15.3706 29.7705 15.1037 29.5608 14.8942L16.0605 1.41094C15.9213 1.27169 15.756 1.16122 15.5741 1.08585C15.3921 1.01048 15.197 0.97168 15 0.97168C14.803 0.97168 14.6079 1.01048 14.4259 1.08585C14.244 1.16122 14.0787 1.27169 13.9395 1.41094L0.43919 14.8942C0.229471 15.1037 0.0866584 15.3706 0.0288058 15.6612C-0.0290467 15.9518 0.000658441 16.2529 0.114166 16.5266C0.227673 16.8004 0.419887 17.0343 0.666507 17.1989C0.913127 17.3635 1.20308 17.4514 1.49971 17.4515ZM11.9999 27.9385V20.4478H18.0001V27.9385H11.9999ZM15 4.58849L24.0002 13.5773V20.4478L24.0017 27.9385H21.0001V20.4478C21.0001 18.7953 19.6546 17.4515 18.0001 17.4515H11.9999C10.3454 17.4515 8.99987 18.7953 8.99987 20.4478V27.9385H5.99981V13.5773L15 4.58849Z" fill="white" />
                  </svg>
                </Link>
                <svg width="27" height="28" viewBox="0 0 27 28" fill="none" xmlns="http://www.w3.org/2000/svg">
                  <path fillRule="evenodd" clipRule="evenodd" d="M19.3389 18.362L26.6015 25.6159C26.8568 25.871 27.0001 26.217 27 26.5777C26.9999 26.9384 26.8563 27.2843 26.6008 27.5392C26.3454 27.7942 25.999 27.9374 25.6379 27.9372C25.2767 27.9371 24.9304 27.7937 24.6752 27.5386L17.4125 20.2846C15.2414 21.9642 12.5112 22.7546 9.77742 22.495C7.04359 22.2354 4.51146 20.9454 2.69613 18.8873C0.880803 16.8292 -0.0813541 14.1577 0.00539479 11.4162C0.0921436 8.67473 1.22128 6.06923 3.1631 4.12975C5.10493 2.19027 7.71357 1.06249 10.4584 0.975847C13.2031 0.889203 15.8779 1.8502 17.9384 3.66334C19.999 5.47648 21.2906 8.00556 21.5505 10.7361C21.8104 13.4666 21.0191 16.1935 19.3375 18.362H19.3389ZM10.8005 19.8464C12.9487 19.8464 15.0088 18.9941 16.5278 17.477C18.0468 15.9598 18.9001 13.9022 18.9001 11.7566C18.9001 9.61103 18.0468 7.55334 16.5278 6.0362C15.0088 4.51906 12.9487 3.66673 10.8005 3.66673C8.65235 3.66673 6.59218 4.51906 5.0732 6.0362C3.55423 7.55334 2.70088 9.61103 2.70088 11.7566C2.70088 13.9022 3.55423 15.9598 5.0732 17.477C6.59218 18.9941 8.65235 19.8464 10.8005 19.8464V19.8464Z" fill="white" />
                </svg>
                <svg width="33" height="33" viewBox="0 0 33 33" fill="none" xmlns="http://www.w3.org/2000/svg">
                  <path d="M31.9334 12.2284L22.0406 10.7702L17.6183 1.67753C17.4975 1.42857 17.2988 1.22704 17.0534 1.10454C16.4377 0.796313 15.6896 1.05317 15.3818 1.67753L10.9595 10.7702L1.06675 12.2284C0.794009 12.2679 0.544645 12.3983 0.353725 12.5959C0.122914 12.8365 -0.00427391 13.1602 0.000109666 13.4958C0.00449324 13.8315 0.140089 14.1516 0.377103 14.386L7.53464 21.4633L5.84364 31.457C5.80399 31.6894 5.82935 31.9285 5.91686 32.1471C6.00437 32.3657 6.15052 32.5551 6.33874 32.6937C6.52696 32.8324 6.74972 32.9148 6.98176 32.9315C7.21379 32.9483 7.44582 32.8988 7.65153 32.7887L16.5001 28.0704L25.3486 32.7887C25.5902 32.9191 25.8707 32.9625 26.1396 32.9151C26.8175 32.7966 27.2734 32.1446 27.1565 31.457L25.4655 21.4633L32.6231 14.386C32.8179 14.1923 32.9464 13.9394 32.9854 13.6628C33.0906 12.9713 32.6153 12.3311 31.9334 12.2284V12.2284ZM22.4537 20.4675L23.8602 28.7778L16.5001 24.8578L9.13993 28.7817L10.5465 20.4715L4.59292 14.5835L12.822 13.3704L16.5001 5.81092L20.1782 13.3704L28.4072 14.5835L22.4537 20.4675Z" fill="white" />
                </svg>
                <Link to="/mytickets">
                  <svg width="32" height="33" viewBox="0 0 32 33" fill="none" xmlns="http://www.w3.org/2000/svg">
                    <path d="M7.33183 19.5751L13.3757 25.6152L24.4693 14.5346L18.4221 8.49792L7.33183 19.5751V19.5751ZM31.4969 11.2842L28.9252 8.71382C28.272 9.07032 27.5207 9.20589 26.7839 9.10025C26.0471 8.99461 25.3644 8.65344 24.838 8.12782C24.3115 7.60219 23.9697 6.92039 23.8637 6.18449C23.7576 5.44859 23.8931 4.69818 24.2498 4.04561L21.678 1.47521C21.3539 1.15422 20.9159 0.974121 20.4594 0.974121C20.0029 0.974121 19.5649 1.15422 19.2408 1.47521L0.501681 20.1922C0.18031 20.516 0 20.9535 0 21.4094C0 21.8654 0.18031 22.3029 0.501681 22.6266L3.07511 25.1936C3.72865 24.8362 4.48059 24.7001 5.21815 24.8056C5.95571 24.9112 6.63913 25.2527 7.16589 25.7791C7.69265 26.3054 8.03437 26.9882 8.13977 27.7249C8.24518 28.4616 8.10861 29.2126 7.75053 29.8653L10.324 32.4323C10.6477 32.7541 11.0859 32.9347 11.5426 32.9347C11.9993 32.9347 12.4375 32.7541 12.7612 32.4323L31.4969 13.7186C31.8191 13.3953 32 12.9576 32 12.5014C32 12.0452 31.8191 11.6076 31.4969 11.2842ZM13.3757 28.3777L4.56607 19.5751L18.4238 5.73542L27.2334 14.5346L13.3757 28.3777Z" fill="white" />
                  </svg>
                </Link>
              </Bottom>
            </Foot>
          </>
          :
          'waiting on event...'
        }
      </div>
    )
  }
}
